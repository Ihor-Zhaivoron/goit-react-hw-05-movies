{"version":3,"file":"static/js/881.ff087c74.chunk.js","mappings":"mOACA,EAAuB,qBAAvB,EAAmD,qB,SCkDnD,EA7Ce,WAAO,IAAD,EACbA,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAE3C,GAA0BC,EAAAA,EAAAA,UAASF,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KAcA,OAPAC,EAAAA,EAAAA,YAAU,WACM,KAAVP,GAIJQ,EAAAA,EAAAA,IAAYR,GAAOS,KAAKH,GAHtBA,EAAS,GAIZ,GAAE,CAACN,KAEF,iCACE,0BACE,kBAAMU,OAAO,GAAGC,SAfD,SAAAC,GACnBA,EAAEC,iBACF,IAAQC,EAAUF,EAAEG,OAAOC,OAAnBF,MACRf,EAA0B,KAAVe,EAAe,CAAEd,MAAOc,GAAU,GACnD,EAW6CG,UAAWC,EAAnD,WACE,kBACEC,KAAK,OACLC,KAAK,SACLN,MAAOX,EACPkB,SAAU,SAAAT,GAAC,OAAIR,EAASQ,EAAEG,OAAOD,MAAtB,KAEb,mBAAQK,KAAK,SAAb,0BAGJ,eAAIF,UAAWC,EAAf,SACGb,EAAMiB,KAAI,SAAAC,GAAI,OACb,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IAAMC,MAAO,CAAEC,KAAMhC,GAAvC,SACG4B,EAAKK,SAFDL,EAAKE,GADD,QAUtB,C","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"list\":\"Movies_list__hqYjd\"};","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams, Link } from 'react-router-dom';\nimport { searchMovie } from 'api';\n\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const [input, setInput] = useState(query);\n  const [films, setFilms] = useState([]);\n\n  const changeFilter = e => {\n    e.preventDefault();\n    const { value } = e.target.search;\n    setSearchParams(value !== '' ? { query: value } : '');\n  };\n  useEffect(() => {\n    if (query === '') {\n      setFilms([]);\n      return;\n    }\n    searchMovie(query).then(setFilms);\n  }, [query]);\n  return (\n    <>\n      <div>\n        <form action=\"\" onSubmit={changeFilter} className={css.form}>\n          <input\n            type=\"text\"\n            name=\"search\"\n            value={input}\n            onChange={e => setInput(e.target.value)}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n      </div>\n      <ul className={css.list}>\n        {films.map(film => (\n          <li key={film.id}>\n            <Link to={`${film.id}`} state={{ from: location }}>\n              {film.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\nexport default Movies;\n"],"names":["location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useState","input","setInput","films","setFilms","useEffect","searchMovie","then","action","onSubmit","e","preventDefault","value","target","search","className","css","type","name","onChange","map","film","to","id","state","from","title"],"sourceRoot":""}